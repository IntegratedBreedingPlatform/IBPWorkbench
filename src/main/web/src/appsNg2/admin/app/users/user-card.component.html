<div class="modal-body">
    <form class="form-horizontal" #form="ngForm">
        <div class="form-group has-inline-form-controls" >
            <div [class.has-feedback]="!(firstName.valid || firstName.pristine) || !(lastName.valid || lastName.pristine)"
                [class.has-error]="!(firstName.valid || firstName.pristine) || !(lastName.valid || lastName.pristine)"
                class="col-sm-2 ">
                <label for="name" class="control-label pull-right" >Name</label>
            </div>
            <div class="col-sm-5" [class.has-feedback]="!(firstName.valid || firstName.pristine)" [class.has-error]="!(firstName.valid || firstName.pristine)">
                <input type="text" class="form-control" [(ngModel)]="model.firstName" #firstName="ngModel" required name="firstName" id="firstName"
                    placeholder="First Name" maxlength="20">
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span class="sr-only">(error)</span>
            </div>
            <div class="col-sm-5" [class.has-feedback]="!(lastName.valid || lastName.pristine)" [class.has-error]="!(lastName.valid || lastName.pristine)">
                <input type="text" class="form-control" [(ngModel)]="model.lastName" #lastName="ngModel" required name="lastName" id="lastName"
                    placeholder="Last Name" maxlength="50">
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span class="sr-only">(error)</span>
            </div>
        </div>
        <div class="form-group" [class.has-feedback]="!(username.valid || username.pristine)" [class.has-error]="!(username.valid || username.pristine)">
            <label for="username" class="col-sm-2 control-label">username</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" [(ngModel)]="model.username" #username="ngModel" required name="username" id="username"
                    placeholder="username" maxlength="30">
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span class="sr-only">(error)</span>
            </div>
        </div>
        <div class="form-group" [class.has-feedback]="!(email.valid || email.pristine)" [class.has-error]="!(email.valid || email.pristine)">
            <label for="email" class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" [(ngModel)]="model.email" #email="ngModel" validateEmail name="email" id="email"
                    placeholder="Email" maxlength="40">
                <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span class="sr-only">(error)</span>
            </div>
        </div>
        <div class="form-group" [class.has-feedback]="!(role.valid || role.pristine)" [class.has-error]="!(role.valid || role.pristine)">
            <label for="role" class="col-sm-2 control-label">Role</label>
            <div class="col-sm-10">
                    <select  id="role" class="form-control" name="role" [(ngModel)]="model.role" #role="ngModel" required>
                       <option disabled value="">Please choose</option>
                       <option  *ngFor="let role of roles" [value]="role.description">{{role.description}}</option>
                    </select>
            </div>
        </div>
        <div class="form-group">
            <label for="status" class="col-sm-2 control-label">User status</label>
            <div class="col-sm-10">
                <div class="radio-inline">
                    <label>
                        <input type="radio" name="optionsStatus" [(ngModel)]="model.status" id="statuson" value="true" checked>
                        Active
                    </label>
                </div>
                <div class="radio-inline">
                    <label>
                        <input type="radio" name="optionsStatus"  [(ngModel)]="model.status" id="statusoff" value="false">
                        Inactive
                    </label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <div class="checkbox">
                    <label *ngIf="!isEditing">
                         <input type="checkbox" [(ngModel)]="sendMail" name="sendMail"> Send an invitation email for the user to set their password
                    </label>
                    <label *ngIf="isEditing">
                         <input type="checkbox" [(ngModel)]="sendMail" name="sendMail"> Send an email for the user to reset their password
                    </label>
                </div>
            </div>
        </div>
    </form>
    <div [class]="errorClass" role="alert" *ngIf="errorUserMessage">Errors: {{errorUserMessage}}</div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal" (click)="cancel(form)">Cancel</button>
    <button type="submit" class="btn btn-primary" [disabled]="!form.valid" (click)="addUser(form)" *ngIf="!isEditing && !userSaved">Add user</button>
    <button type="submit" class="btn btn-primary" [disabled]="!form.valid" (click)="editUser(form)" *ngIf="isEditing && !userSaved">Update user</button>
    <button type="submit" class="btn btn-success" [disabled]="!form.valid" *ngIf="userSaved">User saved!</button>
</div>
