<div class="om-as-view">

	<button class="btn btn-default" ng-click="goBack()">{{'button.back' | translate}}</button>

	<h2>{{'addNew.scale.title' | translate}}</h2>
	<form class="form-horizontal" name="asForm" ng-submit="saveScale($event, scale)" novalidate>

		<div ng-class="formGroupClass('omName')">
			<label for="omName" class="col-sm-2 control-label">{{'formField.name' | translate}}</label>
			<div class="col-sm-10">
				<om-input om-name="omName" om-property="name" om-adding="true" om-model="scale" om-required="true" om-max-length="200"></om-input>
				<ng-messages for="asForm.omName.$error" ng-if="asForm.$submitted || asForm.omName.$touched">
					<ng-message when="required"><p class="text-danger">{{'validation.scale.nameRequired' | translate}}</p></ng-message>
					<ng-message when="maxlength"><p class="text-danger">{{'validation.tooLong' | translate:'{maxLength: "200"}'}}</p></ng-message>
				</ng-messages>
			</div>
		</div>

		<div ng-class="formGroupClass('omDescription')">
			<label for="omDescription" class="col-sm-2 control-label">{{'formField.description' | translate}}</label>
			<div class="col-sm-10">
				<om-text-area om-name="omDescription" om-property="description" om-adding="true" om-model="scale" om-max-length="255"></om-text-area>
				<ng-messages for="asForm.omDescription.$error" ng-if="asForm.$submitted || asForm.omDescription.$touched">
					<ng-message when="maxlength"><p class="text-danger">{{'validation.tooLong' | translate:'{maxLength: "255"}'}}</p></ng-message>
				</ng-messages>
			</div>
		</div>

		<div ng-class="formGroupClass('omDataType')">
			<label for="omDataType" class="col-sm-2 control-label">{{'formField.dataType' | translate}}</label>
			<div class="col-sm-10">
				<om-select name="omDataType" om-name="om-data-type" om-property="dataType" om-adding="true" ng-model="scale" om-options="types" om-required="true"></om-select>
				<ng-messages for="asForm.omDataType.$error" ng-if="asForm.$submitted">
					<ng-message when="required"><p class="text-danger">{{'validation.scale.dataTypeRequired' | translate}}</p></ng-message>
				</ng-messages>
			</div>
		</div>

		<div ng-show="showRangeWidget">
			<span>{{'addNew.scale.validRange' | translate}}</span>
			<om-range name="omRange" om-property="validValues" om-adding="true" ng-model="scale" om-numeric="showRangeWidget"></om-range>

			<ng-messages for="asForm.omRange.$error" ng-if="asForm.$submitted">
				<ng-message when="minTooBig">{{'validation.minTooBig' | translate}}</ng-message>
			</ng-messages>
		</div>

		<div ng-show="showCategoriesWidget">
			<span>{{'addNew.scale.categories' | translate}}</span>
			<om-categories name="omCategories" om-property="validValues" om-adding="true" ng-model="scale" om-categorical="showCategoriesWidget"></om-categories>

			<ng-messages for="asForm.omCategories.$error" ng-if="asForm.$submitted">
				<ng-message when="emptyValue">{{'validation.scale.emptyValue' | translate}}</ng-message>
				<ng-message when="nonUniqueName">{{'validation.scale.nonUniqueName' | translate}}</ng-message>
				<ng-message when="nonUniqueValue">{{'validation.scale.nonUniqueValue' | translate}}</ng-message>
			</ng-messages>
		</div>

		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<input class="btn btn-primary" type="submit" value="{{'button.save' | translate}}"></input>
			</div>
		</div>
	</form>
</div>

