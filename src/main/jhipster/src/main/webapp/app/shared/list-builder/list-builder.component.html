<section aria-labelledby="list-builder" role="dialog" *ngIf="visible">
	<header>
		<h4 class="mb-0">
			<img src="../../../content/images/list-builder.png"/>
			<span jhiTranslate="list-builder.header"></span>
		</h4>
	</header>
	<div class="card">
		<div class="card-body">
			<h5>
				<img src="../../../content/images/list-entries.png" />
				<span jhiTranslate="list-builder.entries"></span>
			</h5>
			<div jhiTranslate="list-builder.description"></div>
			<div class="row my-2">
				<div class="col form-inline">
					<span class="mr-1 font-weight-bold" jhiTranslate="global.total.entries"></span>
					<span>{{data.length}}</span>
					<span class="ml-3 mr-1 font-weight-bold" jhiTranslate="global.selected"></span>
					<span>{{isSelectAllPages ? data.length : size(selectedItems)}}</span>
					<div class="form-check form-check-inline ml-3">
						<input type="checkbox" [checked]="isSelectAllPages" (click)="onSelectAllPages(isSelectAllPages)" id="list-builder-select-all">
						<label class="form-check-label ml-1" for="list-builder-select-all" jhiTranslate="global.select.all"></label>
					</div>
				</div>
			</div>
			<div class="table-responsive">
				<table class="table table-striped table-bordered table-curved">
					<thead>
						<tr *ngIf="!data.length">
							<th></th>
						</tr>
						<th *ngIf="data.length && !isSelectAllPages">
							<input type="checkbox" tooltip="select current page" [checked]="isPageSelected()" (click)="onSelectPage()" [title]="'select current page'" />
						</th>
						<th *ngIf="data.length">#</th>
						<th *ngFor="let header of headers()">
							<span>{{header}}</span>
						</th>
					</thead>
					<tbody cdkDropList id="listBuilderDrop" (cdkDropListDropped)="drop($event)">
						<tr *ngFor="let row of data | slice: (page-1) * pageSize : page * pageSize; let index = index">
							<td *ngIf="!isSelectAllPages">
								<input type="checkbox" [checked]="isSelected(pageOffset() + index)" (click)="toggleSelect(pageOffset() + index)">
							</td>
							<td>{{pageOffset() + index + 1}}</td>
							<td *ngFor="let header of headers()">
								{{row[header]}}
							</td>
						</tr>
						<tr *ngIf="!data.length">
							<td jhiTranslate="list-builder.no.data"></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="row">
				<div class="col">
					<div class="pagination-container">
						<div class="pagination-box pagination-box-left">
							<div>
								<jhi-item-count [page]="page" [total]="data.length" [itemsPerPage]="pageSize"></jhi-item-count>
							</div>
						</div>
						<div class="pagination-box">
							<ngb-pagination [collectionSize]="data.length" [(page)]="page" [pageSize]="pageSize"
											[maxSize]="5" [rotate]="true" [boundaryLinks]="true"></ngb-pagination>
						</div>
						<div class="pagination-box pagination-box-right">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
