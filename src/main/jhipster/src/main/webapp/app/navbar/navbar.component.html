<div class="navbar-container">
	<mat-toolbar color="primary" class="mat-elevation-z1">
		<button mat-icon-button id="menu" (click)="sideNav.toggle()" *ngIf="isSideNavAvailable()">
			<mat-icon fontSet="fa" fontIcon="fa-bars"></mat-icon>
		</button>
		<button (click)="myPrograms()" mat-icon-button color="accent" class="navbar-brand">
			<img src="../../content/images/ibp_logo.jpg" alt="">
		</button>
		<span>{{program?.name}}</span>
		<div class="toolbar-filler"></div>
		<button mat-button (click)="siteAdmin()">Site Admin</button>
		<button mat-button *ngIf="toolUrl" (click)="myPrograms()">My Programs</button>
		<button mat-button *ngIf="!toolUrl" (click)="addProgram()"><i class="fa fa-plus"></i> Add a Program</button>
		<button mat-icon-button>
			<!-- TODO -->
			<mat-icon fontSet="fa" fontIcon="fa-info"></mat-icon>
		</button>
		<button mat-icon-button>
			<!-- TODO -->
			<mat-icon fontSet="fa" fontIcon="fa-question-circle"></mat-icon>
		</button>
		<button mat-icon-button>
			<!-- TODO -->
			<mat-icon fontSet="fa" fontIcon="fa-comments"></mat-icon>
		</button>
		<!-- TODO dropdown -->
		<button mat-button>
			<i class="fa fa-user"></i><span style="margin-left: 5px">{{user?.username}}</span>
		</button>
	</mat-toolbar>
	<mat-sidenav-container>
		<mat-sidenav #sideNav mode="side" opened="true" *ngIf="isSideNavAvailable()" >
			<mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
				<!-- This is the tree node template for leaf nodes -->
				<mat-tree-node class="leaf" *matTreeNodeDef="let node" matTreeNodePadding matTreeNodePaddingIndent="34">
					<a (click)="openTool(node.link)">{{node.name}}</a>
				</mat-tree-node>
				<!-- This is the tree node template for expandable nodes -->
				<mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodeToggle>
					<button mat-icon-button [attr.aria-label]="'Toggle ' + node.name">
						<mat-icon class="mat-icon-rtl-mirror" fontSet="fa"
								  [fontIcon]="treeControl.isExpanded(node) ? 'fa-caret-down' : 'fa-caret-right'">
						</mat-icon>
					</button>
					{{node.name}}
				</mat-tree-node>
			</mat-tree>
		</mat-sidenav>
		<mat-sidenav-content>
			<iframe #viewport *ngIf="toolUrl" [src]="toolUrl" style="border: 0; width: 100%; height: 100%"></iframe>
			<iframe *ngIf="!toolUrl" src="/ibpworkbench/app/#programs" style="border: 0; width: 100%; height: 100%"></iframe>
		</mat-sidenav-content>
	</mat-sidenav-container>
</div>

